<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Week 6 (2/12-2/18) &mdash; Nerd Herd Documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Week 7 (2/19 - 2/25)" href="week7.html" />
    <link rel="prev" title="Week 5 (2/6 to 2/11)" href="week5.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Nerd Herd Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="home.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Charged Up 2023:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="january7.html">January 7th Meeting</a></li>
<li class="toctree-l1"><a class="reference internal" href="january8.html">January 8th Meeting</a></li>
<li class="toctree-l1"><a class="reference internal" href="january9.html">January 9th Meeting</a></li>
<li class="toctree-l1"><a class="reference internal" href="week2.html">Week 2 (1/13 - 1/20)</a></li>
<li class="toctree-l1"><a class="reference internal" href="week3.html">Week 3 (1/21 - 1/28)</a></li>
<li class="toctree-l1"><a class="reference internal" href="week4.html">Week 4 (1/30 - 2/4)</a></li>
<li class="toctree-l1"><a class="reference internal" href="week5.html">Week 5 (2/5 - 2/11)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Week 6 (2/12 - 2/18)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#assembly">Assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cad">CAD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">2/13/2023</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">2/17/2023</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">2/18/2023</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manufacturing">Manufacturing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">2/13</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">2/15</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">2/17</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">2/18</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#programming">Programming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="week7.html">Week 7 (2/19 - 2/25)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek1.html">Competition Week 1 (2/26 - 3/4)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek2.html">Competition Week 2 (3/5 - 3/11)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek3.html">Competition Week 3 (3/12 - 3/18)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek4.html">Competition Week 4 (3/19 - 3/25)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek5.html">.. Competition Week 5 (3/26 - 4/1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek6.html">.. Competition Week 6 (4/2 - 4/8)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compWeek7.html">.. Competition Week 7 (4/9 - 4/15)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Nerd Herd Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Week 6 (2/12-2/18)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/week6.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="week-6-2-12-2-18">
<h1>Week 6 (2/12-2/18)<a class="headerlink" href="#week-6-2-12-2-18" title="Permalink to this heading"></a></h1>
<div class="admonition-under-construction admonition">
<p class="admonition-title">Under Construction</p>
<p>This page is currently under construction. Please return later for more updates.</p>
</div>
<div class="section" id="assembly">
<h2>Assembly<a class="headerlink" href="#assembly" title="Permalink to this heading"></a></h2>
</div>
<div class="section" id="cad">
<h2>CAD<a class="headerlink" href="#cad" title="Permalink to this heading"></a></h2>
<div class="section" id="id1">
<h3>2/13/2023<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>Worked with assembly on electrical components</p>
<ul class="simple">
<li><p>Mounted compressor</p></li>
<li><p>Remounted back electrical channel</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>2/17/2023<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>Made scouting form for real comp</p>
<p><img alt="TDP" src="_images/tdp.png" /></p>
<p><em>Our Technical Data Package</em></p>
<p>Much 3d printing happened today. We printed a spacer for the third stage of the elevator and 3d printed another spacer for the battery. We also installed a limit switch for the rotation part of the elevator and started a CAD for the limelight mount. Also, we started working on the technical data package. We redid some swerve drive drawings in order to do this.</p>
</div>
<div class="section" id="id3">
<h3>2/18/2023<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<p>Worked with assembly on robot cart</p>
</div>
</div>
<div class="section" id="manufacturing">
<h2>Manufacturing<a class="headerlink" href="#manufacturing" title="Permalink to this heading"></a></h2>
<div class="section" id="id4">
<h3>2/13<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<p>The drilling and tapping operations were tested on a steel brick. These operations will be used for the steel weights on the robot.</p>
<p><img alt="Steel Brick" src="_images/steelbrick.png" /></p>
</div>
<div class="section" id="id5">
<h3>2/15<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<p>We were in the process of cutting steel stock for manufacturing steel bricks that would help balance the weight of our robot, but after cutting 5 pieces, the horizontal bandsaw experienced problems with the blade falling off the pulley. Ways to fix this were brainstormed, and we decided to experiment with changing the speed of our vertical bandsaw to cut the steel. Although one blick was cut this way, we decided to return to the horizontal bandsaw with different speeds the next meeting.</p>
<p><img alt="Stock" src="_images/stock.png" /></p>
</div>
<div class="section" id="id6">
<h3>2/17<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<p>The horizontal bandsaw was readjusted for speed and tension, and once its changes were shown to be effective, it was documented. 4 more steel bars were then made, and two were drilled and tapped for installation.</p>
</div>
<div class="section" id="id7">
<h3>2/18<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<p>After trimming some steel bricks down to the necessary size and sanding, we finished one more brick. However, while machining, our chamfer spot drill became chipped. After this occurred for the third time, we decided to put steel bricks on hold, which proved to be a good decision as there were issues with installing the steel bricks with enough clearance to avoid hitting our bumper pins when they were removed. There were also some technical difficulties with our work probe on the TM-1, which resulted in some delay.</p>
<p><img alt="Cutting Steel" src="_images/horizontalbandsaw.png" /></p>
<p><em>Our horizontal bandsaw cutting steel, featuring our recently Woodie Flower nominated manufacturing mentor!</em></p>
<p><img alt="Sanding Steel" src="_images/sandingsteel.png" /></p>
<p><em>Our MFG lead bravely sanding steel (sparks are not that fun, guys)</em></p>
</div>
</div>
<div class="section" id="programming">
<h2>Programming<a class="headerlink" href="#programming" title="Permalink to this heading"></a></h2>
<p>-We added code for the elevator to the Constants, RobotContainer, Arm, and elevator folder. We updated the CANSwerveModule by switching to directly reading from CANCdoer for angles. We also tuned the encoder offsets for our CAN Swerve Modules.</p>
<p>For our superstructure, we separated our arm and elevator into separate classes to make programming them easier. We also updated our feed forward values and calculations. We also added code for limit switches, allowing us to reliably set our stow position. This stops our pivoter from overshooting. We also added buttons for resetting the encoders of both subsystems in the superstructure to make testing simpler.</p>
<p>For our swerve drive, we created simulations to test our dodge mode and allow our drivers to experiment with our drive filters.</p>
<p><img alt="Swerve Simulations" src="_images/swerveSimulations.png" /></p>
<p><em>Swerve simulations for driver input tuning</em></p>
<p>We also abstracted our filters into separate Filter classes sharing an interface, making it easier to apply different filters. This allowed us to create a more complex filter pipeline without adding a lot of extra code to our SwerveJoystickCommand class. We then separated out this code into a new repository, <a class="reference external" href="https://github.com/nerdherd/NerdyFilters">NerdyFilters</a>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Filter</span><span class="w"> </span><span class="n">driveFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FilterSeries</span><span class="p">(</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">DeadbandFilter</span><span class="p">(</span><span class="n">deadband</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">WrapperFilter</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">belowDeadband</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">belowDeadband</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">deadband</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">belowDeadband</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">deadband</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ExponentialSmoothingFilter</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">PowerFilter</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">WrapperFilter</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">belowDeadband</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">signum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">((</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">deadbandScaler</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">motorDeadband</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">WrapperFilter</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">signum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
<span class="w">                </span><span class="o">*</span><span class="w"> </span><span class="n">slewRateLimiter</span><span class="p">.</span><span class="na">calculate</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ScaleFilter</span><span class="p">(</span><span class="n">scale</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ClampFilter</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p><em>Our filter pipeline</em></p>
<p>For vision, we measured optimal mounting heights and angles for our limelights. Additionally we tried out using PhotonVision, as it makes cone detection less noisy, when in combination with a rolling average filter.</p>
<p><img alt="Vision Tuning using Glass" src="_images/visionGlass.png" /></p>
<p><em>Reading vision values in Glass</em></p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="week5.html" class="btn btn-neutral float-left" title="Week 5 (2/6 to 2/11)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="week7.html" class="btn btn-neutral float-right" title="Week 7 (2/19 - 2/25)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, FRC Team 687.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>